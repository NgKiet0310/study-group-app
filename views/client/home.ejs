<% layout('layouts/main-client') %>

<section class="py-5 hero-section bg-light rounded-4 mb-5">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between">
    <div class="text-center text-md-start mb-4 mb-md-0">
      <h1 class="display-4 fw-bold text-primary mb-3">Há»c táº­p cÃ¹ng báº¡n bÃ¨ ğŸ‘©â€ğŸ“ğŸ‘¨â€ğŸ“</h1>
      <p class="lead text-muted">Tham gia hoáº·c táº¡o phÃ²ng há»c, trÃ² chuyá»‡n, giao bÃ i táº­p, chia sáº» tÃ i liá»‡u ngay hÃ´m nay!</p>
      <a href="#your-rooms" class="btn btn-primary btn-lg mt-3">Xem phÃ²ng cá»§a báº¡n</a>
    </div>
    <img src="https://cdn-icons-png.flaticon.com/512/3593/3593477.png" alt="Study Group" class="img-fluid" style="max-height: 350px;">
  </div>
</section>

<section class="mb-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-lg border-0">
        <div class="card-header bg-primary text-white fw-bold text-center fs-4">ğŸ”‘ Tham gia phÃ²ng há»c</div>
        <div class="card-body p-4">
          <form action="/api/rooms/join" method="POST">
            <div class="mb-3">
              <label for="code" class="form-label fw-medium">MÃ£ phÃ²ng</label>
              <input type="text" class="form-control form-control-lg" id="code" name="code" placeholder="Nháº­p mÃ£ phÃ²ng..." required>
            </div>
            <button type="submit" class="btn btn-primary w-100 fw-bold btn-lg">VÃ o phÃ²ng ngay</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="your-rooms" class="mt-5">
  <h2 class="mb-4 fw-bold text-primary">ğŸ“š PhÃ²ng há»c cá»§a báº¡n</h2>
  
  <% if (rooms && rooms.length > 0) { %>
    <div class="row">
      <% rooms.forEach(room => { %>
        <div class="col-md-4 mb-4">
          <div class="card shadow-sm h-100 border-0 room-card">
            <img src="/images/room-cover.jpg" class="card-img-top" alt="Room Cover">
            <div class="card-body">
              <h5 class="card-title text-primary fw-bold"><a href="/client/room/<%= room._id %>" class="text-decoration-none"><%= room.name %></a></h5>
              <p class="card-text text-muted"><%= room.description || 'KhÃ´ng cÃ³ mÃ´ táº£' %></p>
              <a href="/client/room/<%= room._id %>" class="btn btn-outline-primary w-100 mt-2">VÃ o phÃ²ng</a>
            </div>
          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <div class="alert alert-warning">Báº¡n chÆ°a tham gia phÃ²ng nÃ o. HÃ£y nháº­p mÃ£ phÃ²ng Ä‘á»ƒ tham gia ngay!</div>
  <% } %>
</section>
