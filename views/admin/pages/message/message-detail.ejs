<% layout('layouts/main-admin') %>

<div class="container mt-5 animate__animated animate__fadeIn">
  <div class="card shadow-lg rounded-4 border-0">
    <div class="card-header bg-gradient-primary text-white fw-semibold fs-4 p-4 d-flex justify-content-between align-items-center">
      <span><i class="bi bi-chat-left-text me-2 animate__animated animate__pulse animate__infinite"></i>Chi tiết tin nhắn</span>
      <a href="/admin/messages" class="btn btn-light btn-sm fw-semibold rounded-pill">
        <i class="bi bi-arrow-left me-1"></i>Quay lại danh sách
      </a>
    </div>
    <div class="card-body p-4">
      <% if (typeof error !== 'undefined' && error) { %>
        <div class="alert alert-danger alert-dismissible fade show rounded-3" role="alert">
          <%= error %>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      <% } %>

      <div class="row g-3">
        <div class="col-md-6">
          <h6 class="fw-semibold">Nội dung</h6>
          <p><%= message.content %></p>
        </div>
        <div class="col-md-6">
          <h6 class="fw-semibold">Phòng</h6>
          <p><%= message.room?.name || 'Không xác định' %></p>
        </div>
        <div class="col-md-6">
          <h6 class="fw-semibold">Người gửi</h6>
          <p><%= message.sender?.username || 'Không xác định' %></p>
        </div>
        <div class="col-md-6">
          <h6 class="fw-semibold">Ngày gửi</h6>
          <p><%= new Date(message.createdAt).toLocaleString('vi-VN') %></p>
        </div>
      </div>

      <div class="d-flex gap-2 mt-4">
        <a href="/admin/messages" class="btn btn-outline-secondary rounded-pill">
          <i class="bi bi-arrow-left me-1"></i>Quay lại
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  .bg-gradient-primary {
    background: linear-gradient(45deg, #0052cc, #00c4ff);
  }
  .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.25) !important;
  }
  .btn {
    transition: all 0.3s ease;
  }
  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
  .alert {
    border-radius: 0.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  p {
    margin-bottom: 0.5rem;
  }
  @media (max-width: 768px) {
    .card-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }
    .card-header a {
      width: 100%;
      text-align: center;
    }
    .row.g-3 {
      flex-direction: column;
    }
  }
  @import url('https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css');
</style>